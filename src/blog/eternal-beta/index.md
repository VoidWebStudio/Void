---
title: 'Вечная бета'
date: 2010-01-12
tags: post
layout: post.njk
---

Когда коду сайта исполняется [полтора года](/blog/like-a-virgin/), а дизайну [целых два](/blog/second-breath/), то становится как-то совсем неудобно. Нет — всё работает, живёт и периодически даже патчится, но жизнь требует чего-то нового. Поэтому ещё в августе прошлого года была начата разработка новой версии этого сайта. Было решено не только сделать новый дизайн и подновить код, но и сильно упростить архитектуру сайта, раз уж изначальная задумка с заметками и статьями, по сути, провалилась.

## Архитектура

После продолжительной агонии, с сайта исчезли рубрики и теперь существует всего одна главная витрина с последним постом и списком всех публикаций, спрятанным в разворачивающуюся гармошку. Основным средством для поиска предыдущих публикаций стала вспомогательная страница «[Поиск](/search/)», которая содержит упомянутый выше архив публикаций и форму поиска — пока силами Яндекса, но потом, возможно, появится возможность выбирать и Google.

Меньше всего изменений пришлось на страницу «[Об авторе](/author/)», на которой добавилось несколько социальных сервисов и рабочий e-mail.

## Дизайн

Главной задачей для нового дизайна было отказаться от белых коробок и инверсного текста, оставив прежнюю цветовую гамму. При этом, хотелось подчеркнуть простоту архитектуры, убрав ненужную колонку. Получилось или нет — увидим в комментариях к записи…

## Технологии

Как бы это ни было сложно, но HTML-код сайта старается соответствовать [черновику спецификации HTML5](http://dev.w3.org/html5/spec/spec). Более того, пока даже получается [проходить валидацию](http://html5.validator.nu/?doc=http://pepelsbey.net/). И самое минимальное: отказ от XHTML, новый доктайп `---
title: 'TITLE'
date: 'DATE'
tags: post
layout: post.njk
---

`, новая семантика языка `<article>`, `<header>`, `<time>`. По этой причине пока пользователи IE видят не самые приятные вещи, но почему так — чуть ниже.

Пересмотру подверглись некоторые элементы: фрагмент кода теперь состоит из элемента `<pre>` и `<code>`, по количеству строк:

    <pre>
        <code>
        <code>
    <pre>

…а уменьшенные версии картинок построены на элементе `<figure>`:

    <figure>
        <dd><img src="…" alt="Описание"></dd>
        <dt>Описание</dt>
    <figure>

На примеры использования таких картинок, а также работу новой версии [Даркбокс](/blog/darkbox-2/), можно взглянуть в заметке [Firefox против Photoshop](/blog/firefox-vs-photoshop/). Ну и конечно же CSS 3: от пресловутых веб-шрифтов и `border-radius` до `transition`, из-за чего код местами распух от вендорных префиксов:

    -webkit-transition: background-color .2s linear;
    -moz-transition: background-color .2s linear;
    -o-transition: background-color .2s linear;
    transition: background-color .2s linear;

Также гораздо смелее стали использоваться селекторы: от простых `E > E` и `E + E` до `E:first-of-type`. К сожалению, с некоторыми конструкциями не справляется даже IE8.

## Концепция

Но самое главное, чего хотелось добиться всем этим редизайном и рекодингом — это создание, так называемой, вечной беты. Весьма популярная _вебдванольная_ концепция, надо сказать. К примеру, сейчас сайт прилично работает исключительно в последних версиях браузеров. В тех, что пораньше — сносно. А если говорить про IE, то там творится форменное безумие, которое и предстоит поправить на одном из этапов развития вечной беты. И хотя из посетителей этого сайта на долю IE приходится всего семь процентов людей и иных представителей человеческой расы, доступность для чтения нужно обеспечить всем. Та же история с версией для печати, мобильных устройств и даже микроформатами. После каждого этапа в развитии — публикация. Думаю, это будет интересно.
