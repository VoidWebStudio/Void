<!DOCTYPE html>
<html lang="ru">
<head>
	<title>Чётко и резко — Пепелсбей.net</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../shower/themes/ribbon/styles/screen-16x10.css">
	<style>
		.slide .shout-caption {
			color: #FFF;
			text-shadow: 0 10px 0 rgba(0, 0, 0, 0.3);
			font: bold 125px PT Mono, monospace;
			}
		.slide .shout-over {
			padding: 20px 0;
			background: rgba(255, 255, 255, 0.5);
			font-size: 100px;
			}
	</style>
</head>
<body class="shower list">

	<header class="caption">
		<h1>Чётко и резко</h1>
		<p><a href="https://pepelsbey.net/">Вадим Макеев</a>, <a href="http://opera.com">Opera Software</a></p>
	</header>

	<section class="slide black" id="cover">
		<header>
			<h2>Чётко и резко</h2>
			<h3>
				Новая графика<br>
				для экранов<br>
				с высоким<br>
				разрешением
			</h3>
		</header>
		<img class="cover" src="pictures/bottles.jpg" alt="">
		<style>
			#cover h2 {
				position: absolute;
				top: 110px;
				left: 103px;
				color: #FFF;
				letter-spacing: 3px;
				text-shadow: 0 10px 0 rgba(0, 0, 0, 0.3);
				font-size: 150px;
				}
			#cover h3 {
				position: absolute;
				top: 297px;
				left: 0;
				padding: 9px 0 0 104px;
				width: 459px;
				height: 243px;
				background: rgba(0, 0, 0, 0.5);
				color: #FFF;
				line-height: 54px;
				font-size: 50px;
				}
		</style>
	</section>

	<section class="slide">
		<h2 class="shout shout-caption">8×5px</h2>
		<img class="cover" src="pictures/phone-m.jpg" alt="">
	</section>

	<section class="slide">
		<h2>Разрешение</h2>
		<p>Разрешение <i>(resolution)</i> — количество физических пикселей на экране устройства, обычно приводится <em>нерешённым</em>, что дополнительно говорит о соотношении сторон.</p>
		<ul>
			<li class="next"><b>320 × 480 —</b> первый iPhone</li>
			<li class="next"><b>1024 × 768 —</b> канонический десктоп</li>
			<li class="next"><b>2880 × 1800 —</b> MacBook с ретиной</li>
		</ul>
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-m.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-m-grid.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-m-ppi.png" alt="">
	</section>

	<section class="slide">
		<h2>Плотность пикселей</h2>
		<p>Плотность пикселей <i>(pixel density)</i> — количество пикселей, которое помещается в один линейный дюйм.</p>
		<p>Измеряется в <b>ppi</b> <i>(pixels per inch)</i>, относится к дисплеям, матрицам, сканерам. Тогда как <b>dpi</b> <i>(dots per inch)</i> имеет отношение к печати и прямо не соотносится с <b>ppi</b>.</p>
	</section>

	<section class="slide">
		<h2>Плотность пикселей</h2>
		<ul>
			<li><b>100-110 ppi —</b> десктоп</li>
			<li><b>110–135 ppi —</b> ноутбук</li>
			<li><b>160 ppi —</b> средний смартфон</li>
			<li><b>216 ppi —</b> планшет Nexus 7</li>
			<li><b>220 ppi —</b> MacBook с ретиной</li>
			<li><b>239 ppi —</b> Chromebook Pixel</li>
			<li><b>326 ppi —</b> iPhone 5 с ретиной</li>
		</ul>
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-m-grid.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-m-box.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-m-units.png" alt="">
	</section>

	<section class="slide">
		<h2>Пиксели, пиксели и пиксели</h2>
		<ul>
			<li class="next"><b>Физический пиксель</b> <i>(physical pixel) —</i> это ячейка на матрице, единица разрешения дисплея устройства.</li>
			<li class="next"><b>Виртуальный пиксель</b> <i>(device independent pixel, dip) —</i> это независимый от устройства пиксель, может быть больше, меньше или равен физическому.</li>
			<li class="next"><b>Изменённый пиксель —</b> появляется тогда, когда браузер или пользователь масштабируют изображение на экране.</li>
		</ul>
	</section>

	<section class="slide">
		<img class="cover" src="pictures/new.png" alt="">
	</section>

	<section class="slide">
		<h2 class="shout shout-caption">16×10px</h2>
		<img class="cover" src="pictures/phone-h.jpg" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-h.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-h-grid.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-h-ppi.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-h-box-kinda.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-h-box.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/pixels-h-units.png" alt="">
	</section>

	<section class="slide">
		<h2>Пиксельное соотношение</h2>
		<p>Пиксельное соотношение <i>(pixel ratio) —</i> отношение физического пикселя к виртуальному. Может меняться в зависимости от браузера.</p>
		<ul>
			<li class="next"><b>Nexus One:</b> разрешение 480 физических пикселей и 320 виртуальных, в итоге соотношение <b>1,5</b></li>
			<li class="next"><b>MacBook с ретиной:</b> разрешение 2880 физических пикселей и 1440 виртуальных, в итоге соотношение <b>2,0</b></li>
		</ul>
	</section>

	<section class="slide" id="retina">
		<h2 class="shout">Что такое ретина?</h2>
		<style>
			#retina h2 {
				font-size: 130px;
				}
		</style>
	</section>

	<section class="slide">
		<h2>Ретина</h2>
		<p>Маркетинговый термин Apple, описывающий устройства с высоким разрешением и пиксельным соотношением больше, чем <b>1.</b> То есть виртуальный пиксель увеличивается по отношению к физическому.</p>
		<ul>
			<li class="next">Все устройства Apple имеют соотношение <b>1 или 2</b></li>
			<li class="next">Другие планшеты и смартфоны имеют соотношение <b>от 1,5 до 2,25</b></li>
		</ul>
	</section>

	<section class="slide">
		<h2>Ретина</h2>
		<p>В терминологии Android, такие устройства называются</p>
		<ul>
			<li class="next"><b>LDPI 0,75 —</b> старые смартфоны</li>
			<li class="next"><b>MDPI 1,0 —</b> большинство смартфонов</li>
			<li class="next"><b>HDPI 1,5 —</b> Nexus One</li>
			<li class="next"><b>XHDPI 2,0 —</b> Galaxy Nexus, Galaxy Note</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Приведение к физическим пикселям</h2>
		<pre>
			<code><mark>&lt;meta</mark> name="viewport" content="</code>
			<code>	width=device-width,</code>
			<code>	target-densityDpi=<mark>device-dpi</mark>"&gt;</code>
		</pre>
		<p class="note">Пока только работает на Android и в Opera Mobile</p>
	</section>

	<section class="slide">
		<h2>Определение ретины</h2>
		<ol>
			<li class="next">Решаем, с какого соотношения начинать
				<ul>
					<li class="next"><b>1,5</b> для более широкого диапазона устройств</li>
					<li class="next"><b>2,0</b> для самых ретинистых</li>
				</ul>
			</li>
			<li class="next">Ищем значение пиксельного соотношения устройства</li>
		</ol>
	</section>

	<section class="slide">
		<h2>Определение ретины</h2>
		<pre>
			<code><mark>@media</mark> (-webkit-min-device-pixel-ratio: <mark>1.5</mark>),</code>
			<code>	(min-resolution: <mark>144dpi</mark>) { … }</code>
		</pre>
		<pre>
			<code><mark>@media</mark> (-webkit-min-device-pixel-ratio: <mark>2</mark>),</code>
			<code>	(min-resolution: <mark>192dpi</mark>) { … }</code>
		</pre>
		<p class="note">Откуда цифры: 96dpi = 1dppx</p>
	</section>

	<section class="slide">
		<h2>Определение ретины</h2>
		<pre>
			<code><mark>@media</mark> (-webkit-min-device-pixel-ratio: <mark>1.5</mark>),</code>
			<code>	(min--moz-device-pixel-ratio: <mark>1.5</mark>),</code>
			<code>	(-o-min-device-pixel-ratio: <mark>3/2</mark>),</code>
			<code>	(min-resolution: <mark>1.5dppx</mark>) {</code>
			<code>		<mark class="important">E</mark> { something }</code>
			<code>	}</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Определение ретины</h2>
		<pre>
			<code>function isRetina(){</code>
			<code>	return ('devicePixelRatio' in window</code>
			<code>		&amp;&amp; <mark>devicePixelRatio > 1</mark>);</code>
			<code>}</code>
		</pre>
	</section>

	<section class="slide">
		<h2 class="shout">И что делать?</h2>
	</section>

	<section class="slide">
		<h2 class="shout">Текст<br>в порядке</h2>
	</section>

	<section class="slide">
		<h2 class="shout">Прокачивать графику</h2>
	</section>

	<section class="slide">
		<h2>Картинки в содержимом</h2>
		<pre>
			<code><mark>&lt;picture&gt;</mark></code>
			<code>	&lt;source srcset="small.jpg <mark>1x</mark>, large.jpg <mark>2x</mark>"&gt;</code>
			<code>	&lt;source media="(<mark>min-width: 18em</mark>)"</code>
			<code>		srcset="medium.jpg <mark>1x</mark>, large.jpg <mark>2x</mark>"&gt;</code>
			<code>	&lt;img src="small.jpg"&gt;</code>
			<code><mark>&lt;/picture&gt;</mark></code>
		</pre>
	</section>

	<section class="slide">
		<h2>Картинки в стилях</h2>
		<pre>
			<code>E {</code>
			<code>	background-image: url(picture.png);</code>
			<code>	background-image: <mark>image-set(</mark></code>
			<code>		url(small.jpg) <mark>1x</mark>,</code>
			<code>		url(medium.jpg) <mark>2x</mark>);</code>
			<code>	}</code>
		</pre>
	</section>

	<section class="slide">
		<img class="cover" src="pictures/bicycle.png" width="1024" alt="">
	</section>

	<section class="slide">
		<h2>Графика</h2>
		<pre>
			<code>E {</code>
			<code>	background: url(<mark>100px.png</mark>) no-repeat;</code>
			<code>	background-size: <mark>50px 50px</mark>;</code>
			<code>	}</code>
		</pre>
		<ul>
			<li class="next">Кроссбраузерность <code>bg-size</code> хромает, хотя <a href="http://caniuse.com/#search=background-size">80% по миру</a></li>
			<li class="next">Не все файлы удачно масштабируются</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Графика</h2>
		<pre>
			<code>E {</code>
			<code>	background: url(<mark>50px.png</mark>) no-repeat;</code>
			<code>	}</code>
			<code>@media (<mark>retina</mark>) {</code>
			<code>	E { background: url(<mark>100px.png</mark>) no-repeat; }</code>
			<code>	}</code>
		</pre>
	</section>

	<section class="slide">
		<a href="http://pepelsbey.net/2012/08/stylish-switch/">
			<img class="cover" src="pictures/slider.png" alt="">
		</a>
	</section>

	<section class="slide">
		<h2 class="shout">SVG</h2>
	</section>

	<section class="slide">
		<a href="http://pepelsbey.net/2012/07/uneasy-easy-button/">
			<img class="cover" src="pictures/play.png" alt="">
		</a>
	</section>

	<section class="slide">
		<h2>Фолбек для IE6-8</h2>
		<pre>
			<code>E {</code>
			<code>	background: url(<mark>image.png</mark>) no-repeat;</code>
			<code>	background:</code>
			<code>		<mark>rgba(0, 0, 0, 0)</mark></code>
			<code>		url(<mark>image.svg</mark>) no-repeat;</code>
			<code>	}</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Фолбек для Firefox 3.6 и Android 2.x</h2>
		<pre>
			<code>E {</code>
			<code>	background: url(<mark>image.png</mark>) no-repeat;</code>
			<code>	}</code>
			<code><mark>.inlinesvg</mark> E {</code>
			<code>	background: url(<mark>image.svg</mark>) no-repeat;</code>
			<code>	}</code>
		</pre>
	</section>

	<section class="slide">
		<h2 class="shout">favicon.ico</h2>
	</section>

	<section class="slide">
		<img class="cover" src="pictures/favicon.png" alt="">
	</section>

	<section class="slide">
		<h2 class="shout">Фотографии</h2>
	</section>

	<section class="slide">
		<img class="cover" src="pictures/ilovejpeg.png" alt="">
	</section>

	<section class="slide">
		<h2>Фотографии</h2>
		<ol>
			<li class="next">Подготовить фотографию <b>в 1,5–2 раза</b> больше требуемого</li>
			<li class="next">Сохранить со сжатием гораздо более смелым, <b>до <nobr>20-30%</nobr></b></li>
			<li class="next">Уменьшить её размеры до нужных <b>при вставке</b></li>
			<li class="next">Файл получится либо слегка больше, либо <b>даже меньше</b></li>
			<li class="next">Внешнее качество и детализация фотографии <b>повысятся</b></li>
		</ol>
	</section>

	<section class="slide">
		<h2 class="shout">ORLY?</h2>
	</section>

	<section class="slide">
		<img class="cover" src="pictures/love-m.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/love-m-grid.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/love-m.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/love-h.png" alt="">
	</section>

	<section class="slide">
		<img class="cover" src="pictures/love-h-grid.png" alt="">
	</section>

	<section class="slide">
		<h2 class="shout shout-over">1024 × 640, 99 КБ</h2>
		<figure>
			<img class="cover" src="pictures/flowers-m.jpg" width="1024" alt="">
			<figcaption class="white"><a href="http://fiftyfootshadows.net/">© John Carey</a></figcaption>
		</figure>
	</section>

	<section class="slide">
		<h2 class="shout shout-over">2048 × 1280, 75 КБ</h2>
		<img class="cover" src="pictures/flowers-h.jpg" width="1024" alt="">
		<!-- Photo by John Carey — fiftyfootshadows.net -->
	</section>

	<section class="slide">
		<h2 class="shout">Canvas</h2>
	</section>

	<section class="slide">
		<h2>Canvas</h2>
		<ul>
			<li class="next">На OS X с ретиной Canvas рисуется <b>правильно,</b> не просто с удвоением</li>
			<li class="next">На iOS атрибуты <code>width</code> и <code>height</code> нужно умножить на пиксельное соотношение, но установить оригинальные CSS-размеры</li>
			<li class="next">Чтобы <em>не учетверить</em> количество пикселов на OS X с ретиной, не забыть проверить <code>ctx.webkitBackingStoreRatio &lt; 2</code></li>
		</ul>
	</section>

	<section class="slide">
		<h2>Тестирование</h2>
		<ul>
			<li class="next">Девайсы с ретиной, понятное дело</li>
			<li class="next">Opera Mobile Emulator</li>
			<li class="next">Android Emulator из Android SDK</li>
			<li class="next">iOS-симуляторы из Xcode</li>
			<li class="next">Quartz Debug из Graphics Tools для Xcode</li>
		</ul>
	</section>

	<section class="slide">
		<figure>
			<img class="cover" src="pictures/tv.jpg" alt="">
			<figcaption class="white">
				<a href="https://www.flickr.com/photos/41002268@N03">© Carbon Arc</a>
			</figcaption>
		</figure>
	</section>

	<section class="slide">
		<header>
			<h2>Чётко и резко</h2>
		</header>
		<p>Вадим Макеев, Opera Software</p>
		<ul>
			<li><a href="https://twitter.com/pepelsbey">@pepelsbey</a></li>
			<li><a href="https://pepelsbey.net">pepelsbey.net</a></li>
			<li><a href="mailto:pepelsbey@gmail.com">pepelsbey@gmail.com</a></li>
		</ul>
		<p>Презентация: <a href="https://pepelsbey.net/pres/clear-and-sharp/">pepelsbey.net/pres/clear-and-sharp</a></p>
	</section>

	<footer class="badge">
		<a href="https://github.com/shower/shower">Powered by Shower</a>
	</footer>

	<div class="progress"></div>

	<script src="../shower/shower.min.js"></script>

	<!-- Copyright © 2010–2014 Vadim Makeev — pepelsbey.net -->

	<script>(function(b,c,a){(c[a]=c[a]||[]).push(function(){try{c.yaCounter155532=new Ya.Metrika({id:155532})}catch(a){}});var e=b.getElementsByTagName('script')[0],d=b.createElement('script'),a=function(){e.parentNode.insertBefore(d,e)};d.async=!0;d.src='//mc.yandex.ru/metrika/watch.js';'[object Opera]'==c.opera?b.addEventListener('DOMContentLoaded',a):a()})(document,window,'yandex_metrika_callbacks');</script><noscript><img src="https://mc.yandex.ru/watch/155532" alt=""></noscript>

</body>
</html>
